<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>WAR</title>
    <link rel="shortcut icon" href="#"/>
    <link rel="stylesheet" href="./facialMask.css">
    <script src="clmtrackr.js"></script>
</head>

<body>
        <canvas id="drawCanvas" width="400" height="300"></canvas>
        <video autoplay="true" id="videoElement">
         
        </video>
    
    
    <script>
            
             var videoElement = document.querySelector("#videoElement");
             navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia || navigator.oGetUserMedia;
          
             if (navigator.getUserMedia) {       
                 navigator.getUserMedia({video: true}, handleVideo, videoError);
             }
          
             function handleVideo(stream) {
                 videoElement.src = window.URL.createObjectURL(stream);
             }
          
             function videoError(e) {
                 // do something
             }

            var ctracker = new clm.tracker();
            ctracker.init();
            ctracker.start(videoElement);
            var positions = ctracker.getCurrentPosition();
            var canvasInput = document.getElementById('drawCanvas');
            ctracker.draw(canvasInput);
            // function positionLoop() {
            //     requestAnimationFrame(positionLoop);
            //     var positions = ctracker.getCurrentPosition();
            //     // positions = [[x_0, y_0], [x_1,y_1], ... ]
            //     // do something with the positions ...
            // }
            // positionLoop();


         </script>
    <script type="text/javascript">
      var canvasInput = document.getElementById('drawCanvas');
      var cc = canvasInput.getContext('2d');
    //   function drawLoop() {
    //     requestAnimationFrame(drawLoop);
    //     cc.clearRect(0, 0, canvasInput.width, canvasInput.height);
    //     ctracker.draw(canvasInput);
    //   }
    //   drawLoop();
    </script>
    
    
</body>
</html>